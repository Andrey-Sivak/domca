<?php
/**
 * Template for rendering the personal story block.
 *
 * @package domca
 */

$domca_personal_story_title = $attributes['title'] ?? '';
$domca_personal_story_text  = $attributes['text'] ?? '';

$domca_personal_story_base_class = 'wp-block-domca-personal-story';

$domca_personal_story_wrapper_attributes = get_block_wrapper_attributes(
	array(
		'class' => $domca_personal_story_base_class . ' dm-wrap',
	)
);

?>

<section
	<?php
	// phpcs:ignore WordPress.Security.EscapeOutput.OutputNotEscaped
	echo $domca_personal_story_wrapper_attributes;
	?>
>
	<div class="<?php echo esc_attr( $domca_personal_story_base_class . '__wrap dm-container' ); ?>">
		<svg
				viewBox="0 0 1444 623"
				fill="none"
				aria-hidden="true"
				preserveAspectRatio="none"
				class="<?php echo esc_attr( $domca_personal_story_base_class . '__decor' ); ?>"
		>
			<path
					d="M3 62C3 31.6243 27.6243 7 58 7H1382C1412.38 7 1437 31.6243 1437 62V560C1437 590.376 1412.38 615 1382 615H58C27.6244 615 3 590.376 3 560V62Z"
					fill="white"
			/>
			<path
					d="M1142.06 619.652C1054 618.654 984.684 623.062 877.353 622.439C770.023 621.816 753.948 619.478 631.028 620.004C508.114 620.53 385.13 618.931 330.4 619.891C275.673 620.852 269.897 617.947 192.178 618.592C138.503 619.038 99.4301 618.995 58 618.614C38.285 618.603 17.8552 607.693 7.31546 588.04C3.51605 581.007 0.282469 571.327 0.395972 560C1.18656 474.661 1.70664 302.486 0.67659 235.068C-0.212658 176.865 0.762396 112.391 1.48122 62C1.64359 46.1178 8.66244 32.4327 17.2415 23.6074C28.8368 11.6314 42.2144 7.74703 51.8996 6.90272C56.0693 6.56283 57.9986 6.87155 58 7.0338C58 7.03392 58 7.03404 58 7.03416C57.9954 7.29764 55.0218 7.34519 49.8066 8.13312C31.1318 10.088 3.80642 29.7238 4.33988 62C4.49233 72.2285 4.66904 82.9588 4.87337 94.1067C6.4343 179.267 4.7094 188.574 5.51149 303.571C6.17919 399.298 7.40227 463.215 7.19523 560C6.90399 577.936 17.5144 597.631 36.8697 606.563C43.7604 609.768 51.0339 611.231 58 611.252C174.209 611.657 212.485 607.966 391.947 610.277C582.94 612.736 603.042 608.198 793.373 607.594C983.706 606.991 1223.96 609.495 1338.7 609.287C1352.57 609.262 1367.03 609.232 1382 609.2C1406.51 609.95 1431.58 587.715 1431.02 560C1430.85 469.015 1430.75 365.475 1431.15 258.216C1431.37 197.14 1431.3 130.687 1431.18 62C1431.81 36.1202 1408.36 12.2926 1382 12.9797C1294.62 13.1296 1205.79 13.1957 1121.63 12.6948C942.094 11.6263 688.263 10.2767 570.997 9.37233C453.735 8.46801 425.153 8.26403 312.283 8.8166C247.404 9.13424 158.026 8.83484 82.5317 7.6667C44.5379 7.07881 53.1473 6.26026 91.3894 5.86861C147.312 5.29591 193.218 5.67851 222.032 4.65553C279.609 2.61107 304.08 1.82679 376.767 3.01674C449.451 4.20655 483.699 1.50251 526.069 1.81374C568.441 2.12512 567.744 3.72007 783.185 2.49123C998.629 1.26234 1116.74 0.94878 1198.32 0.653764C1241.16 0.498859 1308.48 0.80693 1382 1.06216C1413.79 0.243408 1443.58 29.2996 1442.7 62C1442.62 101.356 1442.62 140.494 1442.76 176.838C1443.11 271.029 1442.98 434.141 1443.17 560C1443.7 596.613 1410.15 622.553 1382 621.385C1366 621.448 1351.62 621.524 1339.31 621.616C1230.34 622.434 1230.12 620.649 1142.06 619.652Z"
					fill="#817676"
			/>
		</svg>
		<?php if ( ! empty( $domca_personal_story_title ) ) : ?>
			<h2 class="<?php echo esc_attr( $domca_personal_story_base_class . '__title dm-heading dm-heading-h2' ); ?>">
				<?php echo wp_kses_post( $domca_personal_story_title ); ?>
			</h2>
		<?php endif; ?>

		<?php if ( ! empty( $domca_personal_story_text ) ) : ?>
			<p class="<?php echo esc_attr( $domca_personal_story_base_class . '__text' ); ?>">
				<?php echo wp_kses_post( $domca_personal_story_text ); ?>
			</p>
		<?php endif; ?>
	</div>
</section>
